@{
    ViewData["Title"] = "Test Complete";
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Aviation Obstacle Registration</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-indigo-500 to-purple-600 min-h-screen flex items-center justify-center p-4">
    <div class="max-w-2xl w-full bg-white rounded-3xl shadow-2xl p-8 md:p-12 text-center animate-fadeIn">
        <!-- Success Icon -->
        <div class="text-7xl mb-6">ðŸŽ‰</div>

        <!-- Title -->
        <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">Gratulerer!</h1>

        <!-- Summary -->
        <p class="text-lg text-gray-600 bg-gray-100 rounded-xl p-6 mb-8">
            Du har fullfÃ¸rt alle 6 oppgavene i Pilot-testen!
        </p>

        <!-- QR Code Section -->
        <div class="bg-indigo-50 border-2 border-indigo-300 rounded-2xl p-8 mb-8">
            <div class="flex justify-center mb-4">
                <div class="bg-white p-4 rounded-xl shadow-lg">
                    <img src="~/images/expo/feedback-qr.png" alt="Feedback QR Code" class="w-48 h-48" />
                </div>
            </div>
            <p class="text-indigo-700 font-medium">Scan QR-koden for Ã¥ gi feedback</p>
        </div>

        <!-- Buttons -->
        <div class="flex flex-col sm:flex-row gap-4">
            <a href="@Url.Action("RegisterType", "Pilot")" class="flex-1 px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-200">
                Tilbake til Dashboard
            </a>
            <button id="reset-btn" class="flex-1 px-6 py-3 bg-white text-indigo-600 font-semibold rounded-xl border-2 border-indigo-500 hover:bg-gray-50 hover:scale-105 transition-all duration-200">
                Start pÃ¥ nytt
            </button>
        </div>
    </div>

    <!-- Hidden logout form -->
    <form id="logout-form" asp-controller="Account" asp-action="Logout" method="post" style="display: none;">
    </form>

    <script @Html.Raw(Html.NonceAttribute())>
        document.addEventListener('DOMContentLoaded', function () {
            var resetBtn = document.getElementById('reset-btn');

            if (resetBtn) {
                resetBtn.addEventListener('click', function () {
                    // Clear task progress
                    localStorage.removeItem('expoTaskProgress_pilot');

                    // Submit logout form to logout user
                    var logoutForm = document.getElementById('logout-form');
                    if (logoutForm) {
                        logoutForm.submit();
                    } else {
                        // Fallback to home page
                        window.location.href = '@Url.Action("Index", "Home")';
                    }
                });
            }
        });
    </script>
</body>
</html>
