@model FirstWebApplication.Models.Obstacle.RegisterObstacleViewModel

@{
    ViewData["Title"] = "Full registrering";
}

@section Head {
    <link rel="stylesheet" href="~/lib/leaflet/leaflet.css" />
    <link rel="stylesheet" href="~/lib/leaflet-draw/dist/leaflet.draw.css" />
    <link rel="stylesheet" href="~/css/pilot/fullregister.css" asp-append-version="true" />
}

<div id="map"></div>

<div class="registration-form">
    <h2 class="text-2xl font-bold mb-4">Full registrering</h2>
    <p class="text-gray-600 mb-4">Klikk på kartet for å plassere en markør, eller dra den for å justere plasseringen.</p>

    <button type="button" id="useLocationBtn" class="btn btn-location">
        Bruk min lokasjon
    </button>

    <form asp-action="FullRegister" method="post">
        <div class="form-group">
            <label asp-for="ObstacleType">Hinder type:</label>
            <select asp-for="ObstacleType" class="form-control" id="obstacleTypeSelect">
                <option value="">-- Velg type --</option>
                <option value="Mast">Mast</option>
                <option value="Tower">Tårn</option>
                <option value="Power Line">StrømLinje</option>
                <option value="Wind Turbine">Vindmølle</option>
                <option value="Building">Byggning</option>
                <option value="Crane">Kran</option>
                <option value="Bridge">Bro</option>
                <option value="Other">Annet</option>
            </select>
            <span asp-validation-for="ObstacleType" class="text-danger"></span>
        </div>

        <div class="form-group" id="customTypeGroup" style="display: none;">
            <label for="customTypeName">Spesifikk Type:</label>
            <input type="text" id="customTypeName" class="form-control" placeholder="Skriv inn hinder type..." />
        </div>

        <div class="form-group">
            <label asp-for="ObstacleHeight">Høyde (meter): *</label>
            <input asp-for="ObstacleHeight" type="number" step="0.1" class="form-control" placeholder="E.g., 50" />
            <span asp-validation-for="ObstacleHeight" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label asp-for="ObstacleDescription">Description: *</label>
            <textarea asp-for="ObstacleDescription" class="form-control" rows="4" placeholder="Beskriv hindre..."></textarea>
            <span asp-validation-for="ObstacleDescription" class="text-danger"></span>
        </div>

        <input type="hidden" asp-for="ObstacleGeometry" id="obstacleGeometryInput" />
        <span asp-validation-for="ObstacleGeometry" class="text-danger"></span>

        <button type="submit" class="btn btn-primary w-100">Send inn registrering</button>
        <a asp-action="RegisterType" class="btn btn-secondary w-100">Cancel</a>
    </form>
</div>

@section Scripts {
    <script src="~/lib/leaflet-draw/dist/leaflet.draw.js"></script>
    <script src="~/js/pilot/fullregister.js" asp-append-version="true"></script>
}
